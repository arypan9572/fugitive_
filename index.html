<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fugitive</title>
<style>
/* General */
body {
  margin:0;
  overflow:hidden;
  font-family:-apple-system, "SF Pro Semibold", "SF Pro Semibold Italic", sans-serif;
  background:black;
}
canvas { position:absolute; top:0; left:0; width:100%; height:100%; z-index:0; }

/* Keyframes */
@keyframes pulse { 0%{transform:translate(-50%,-50%) scale(1);opacity:1;} 50%{transform:translate(-50%,-50%) scale(1.3);opacity:0.7;} 100%{transform:translate(-50%,-50%) scale(1);opacity:1;} }
@keyframes fadeIn { 0%{opacity:0;} 100%{opacity:1;} }
@keyframes zoomIn { 0%{transform:scale(0.7);} 100%{transform:scale(1);} }
@keyframes glowHover { 0%{box-shadow:0 0 10px #0ff;} 50%{box-shadow:0 0 25px #0ff;} 100%{box-shadow:0 0 10px #0ff;} }

/* Panels */
.panel {
  backdrop-filter:blur(20px);
  background:rgba(15,15,25,0.65);
  border-radius:20px;
  padding:20px;
  margin:10px;
  box-shadow:0 0 30px rgba(0,255,255,0.3);
  color:white;
  animation:fadeIn 1s ease;
}

/* Header */
header { text-align:center; margin-top:20px; z-index:2; animation:fadeIn 2s ease; }
header h1 {
  font-style:italic;
  font-weight:600;
  font-size:2.2em;
  color:#0ff;
  text-shadow:0 0 10px #00f,0 0 25px #0ff,0 0 50px #0ff;
}

/* Buttons */
button {
  padding:12px 28px;
  margin:6px;
  border-radius:12px;
  border:1px solid #0ff;
  background:rgba(0,0,50,0.3);
  color:#0ff;
  font-weight:600;
  cursor:pointer;
  text-shadow:0 0 10px #0ff;
  transition:all 0.3s ease;
}
button:hover { 
  transform:scale(1.15);
  animation:glowHover 1s infinite;
}

/* Inventory Charm Boxes */
.charm-box {
  display:inline-block;
  padding:12px;
  margin:8px;
  border-radius:14px;
  font-weight:600;
  cursor:pointer;
  transition:all 0.5s ease;
}
.charm-box.normal { background:#2980b9; }
.charm-box.super { background:#8e44ad; }
.charm-box.ultra { background:#e74c3c; }
.charm-box:hover {
  transform:scale(1.4);
  box-shadow:0 0 30px #0ff,0 0 60px #00f;
}

/* Map */
#map {
  position:relative;
  width:90%;
  height:300px;
  margin:20px auto;
  border-radius:20px;
  background:rgba(0,0,0,0.25);
  box-shadow:0 0 25px #0ff;
  overflow:hidden;
  z-index:2;
}

/* Player Dot */
#player-dot {
  position:absolute;
  width:22px; height:22px;
  background:#0ff;
  border-radius:50%;
  top:50%; left:50%;
  transform:translate(-50%,-50%);
  box-shadow:0 0 20px #0ff,0 0 40px #00f;
  animation:pulse 2s infinite;
}

/* Ping Timer */
#ping-timer {
  position:absolute;
  bottom:8%;
  left:50%;
  transform:translateX(-50%);
  font-size:1.3em;
  padding:6px 12px;
  backdrop-filter:blur(12px);
  background:rgba(0,0,50,0.4);
  border-radius:15px;
  color:#0ff;
  text-align:center;
  box-shadow:0 0 20px #0ff;
  animation:fadeIn 2s ease;
}
</style>
</head>
<body>

<!-- Aurora Background -->
<canvas id="aurora"></canvas>

<div style="position:relative; width:100%; max-width:450px; height:800px; margin:auto; display:flex; flex-direction:column; align-items:center; justify-content:flex-start; z-index:1;">

<!-- Header -->
<header>
  <h1>FUGITIVE</h1>
  <p id="roleDisplay" style="color:white;">Select your role</p>
</header>

<!-- Menu -->
<div class="panel">
  <button id="hostBtn">Host Game</button>
  <button id="joinBtn">Join Game</button>
  <button id="inventoryBtn">Inventory</button>
</div>

<!-- Inventory Panel -->
<div id="inventory" class="panel" style="position:absolute; top:20%; left:50%; transform:translateX(-50%) scale(0.9); display:none;">
  <h2>Inventory / Charm Boxes</h2>
  <div class="charm-box normal">Normal Box</div>
  <div class="charm-box super">Super Box</div>
  <div class="charm-box ultra">Ultra Box</div>
  <br>
  <button id="closeInventory">Close</button>
</div>

<!-- Map -->
<div id="map">
  <div id="player-dot"></div>
</div>

<!-- Ping Timer -->
<div id="ping-timer">Ping in: <span id="ping-count">20:00</span></div>

</div>

<script>
// Aurora background
const canvas=document.getElementById("aurora");
canvas.width=canvas.offsetWidth; canvas.height=canvas.offsetHeight;
const ctx=canvas.getContext("2d");
let gradientOffset=0;
function drawAurora(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  const grad=ctx.createLinearGradient(0,gradientOffset,canvas.width,canvas.height+gradientOffset);
  grad.addColorStop(0,'#001f3f');
  grad.addColorStop(0.3,'#004080');
  grad.addColorStop(0.6,'#00bfff');
  grad.addColorStop(1,'#001f3f');
  ctx.fillStyle=grad;
  ctx.fillRect(0,0,canvas.width,canvas.height);
  gradientOffset+=0.5;
  if(gradientOffset>canvas.height) gradientOffset=0;
  requestAnimationFrame(drawAurora);
}
drawAurora();

// Ping Timer
let pingSeconds=20*60;
setInterval(()=>{
  if(pingSeconds>0) pingSeconds--;
  const m=Math.floor(pingSeconds/60).toString().padStart(2,'0');
  const s=(pingSeconds%60).toString().padStart(2,'0');
  document.getElementById("ping-count").innerText=`${m}:${s}`;
},1000);

// Inventory toggle
document.getElementById("inventoryBtn").onclick=()=>{ 
  const inv=document.getElementById("inventory");
  inv.style.display="block";
  inv.style.transition="all 0.5s ease";
  inv.style.transform="translateX(-50%) scale(1)";
};
document.getElementById("closeInventory").onclick=()=>{
  const inv=document.getElementById("inventory");
  inv.style.transform="translateX(-50%) scale(0.9)";
  setTimeout(()=>{ inv.style.display="none"; },500);
};

// Role selection
document.getElementById("hostBtn").onclick=()=>{ document.getElementById("roleDisplay").innerText="ðŸš“ COP - Hosting Game"; }
document.getElementById("joinBtn").onclick=()=>{ document.getElementById("roleDisplay").innerText="ðŸƒ FUGITIVE - Joining Game"; }

// Player movement
const player=document.getElementById("player-dot");
let posX=214, posY=139;
const speed=3;
const map=document.getElementById("map");
document.addEventListener('keydown',(e)=>{
  const rect=map.getBoundingClientRect();
  if(e.key==='ArrowUp'||e.key==='w'){ posY=Math.max(0,posY-speed); }
  if(e.key==='ArrowDown'||e.key==='s'){ posY=Math.min(rect.height-22,posY+speed); }
  if(e.key==='ArrowLeft'||e.key==='a'){ posX=Math.max(0,posX-speed); }
  if(e.key==='ArrowRight'||e.key==='d'){ posX=Math.min(rect.width-22,posX+speed); }
  player.style.left=posX+'px';
  player.style.top=posY+'px';
});

// Charm box animation
document.querySelectorAll('.charm-box').forEach(charm=>{
  charm.onclick=()=>{
    charm.style.transform="scale(1.6)";
    charm.style.boxShadow="0 0 30px #fff,0 0 60px #0ff";
    setTimeout(()=>{ charm.style.transform="scale(1)"; charm.style.boxShadow="0 0 25px #0ff"; },800);
  };
});
</script>

</body>
</html>
